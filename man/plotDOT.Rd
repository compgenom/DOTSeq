% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/analysis.R
\name{plotDOT}
\alias{plotDOT}
\title{Generate Differential ORF Translation (DOT) Visualization Suite}
\usage{
plotDOT(
  results,
  rowdata,
  id_mapping = NULL,
  include_go = FALSE,
  plot_types = c("venn", "composite", "volcano", "heatmap"),
  marginal_plot_type = "density",
  dou_estimates_col = "PosteriorMean",
  dou_padj_col = "lfsr",
  dte_estimates_col = "log2FoldChange",
  dte_padj_col = "padj",
  dou_estimates_threshold = 1,
  dou_padj_threshold = 0.05,
  dou_padj_ceiling = 10,
  extreme_threshold = NULL,
  label_topn = 3,
  top_genes = 40,
  flip_sign = FALSE,
  sorf_type = "uORF",
  dataset = "hsapiens_gene_ensembl",
  symbol_col = "hgnc_symbol",
  mart_source = "ensembl",
  verbose = TRUE,
  force_new_device_on_error = TRUE
)
}
\arguments{
\item{results}{A data frame containing DOU and DTE estimates and significance values. Must include
ORF-level identifiers and columns specified by \code{dou_estimates_col}, \code{dou_padj_col},
\code{dte_estimates_col}, and \code{dte_padj_col}.}

\item{rowdata}{A data frame containing ORF-level metadata, including ORF type (e.g., mORF, uORF).}

\item{id_mapping}{A data frame containing gene symbols for the input Ensembl IDs.
Default is \code{NULL}.}

\item{include_go}{Logical; if \code{TRUE}, includes GO annotations (\code{go_id}, \code{name_1006},
\code{namespace_1003}) in the output.}

\item{plot_types}{Character vector specifying which plots to generate. Options include \code{"venn"},
\code{"composite"}, \code{"volcano"}, and \code{"heatmap"}.}

\item{marginal_plot_type}{Character string specifying the type of marginal plot: either \code{"histogram"} or \code{"density"}.}

\item{dou_estimates_col}{Character string specifying the column name for DOU effect size estimates.
Default is \code{"PosteriorMean"}.}

\item{dou_padj_col}{Character string specifying the column name for DOU significance values (LFSR).
Default is \code{"lfsr"}.}

\item{dte_estimates_col}{Character string specifying the column name for DTE effect size estimates.
Default is \code{"log2FoldChange"}.}

\item{dte_padj_col}{Character string specifying the column name for DTE adjusted p-values.
Default is \code{"padj"}.}

\item{dou_estimates_threshold}{Numeric threshold for DOU effect size significance. Default is \code{1}.}

\item{dou_padj_threshold}{Numeric threshold for DOU LFSR significance. Default is \code{0.05}.}

\item{dou_padj_ceiling}{Numeric value to define the rounding ceiling for -log10(LFSR). The maximum y-axis value
will be rounded up to the nearest multiple of this value. Default is \code{10}.}

\item{extreme_threshold}{Optional numeric threshold for labeling extreme points in the volcano plot
(based on -log10 LFSR).}

\item{label_topn}{Optional numeric. If specified, labels the top N most significant points in the volcano plot.}

\item{top_genes}{Optional numeric. If specified, limits the heatmap to the top N genes ranked by DOU magnitude and significance.}

\item{flip_sign}{Logical; if \code{TRUE}, flips the sign of DOU estimates to align directionality with DTE. Default is \code{TRUE}.}

\item{sorf_type}{Character string specifying the short ORF type to compare with mORFs. Accepts \code{"uORF"} or \code{"dORF"}.}

\item{dataset}{Character string specifying the Ensembl dataset name (e.g., \code{"hsapiens_gene_ensembl"}).}

\item{symbol_col}{Character string specifying the column name for gene symbols in the annotation data. Default is \code{"hgnc_symbol"}.}

\item{mart_source}{Character string specifying the BioMart source. One of \code{"ensembl"}, \code{"plants"}, \code{"fungi"},
\code{"protists"}, \code{"metazoa"}, or \code{"bacteria"}.}

\item{verbose}{Logical; if \code{TRUE}, prints progress messages. Default is \code{TRUE}.}

\item{force_new_device_on_error}{Logicall if \code{TRUE}, detects graphics error and reset graphics state.}
}
\value{
A data frame containing gene symbols retrieved from Ensembl, used for labeling and heatmap visualization.
}
\description{
A high-level wrapper that visualizes differential ORF usage (DOU) and translation efficiency (DTE)
relationships through a suite of plots including Venn diagrams, volcano plots, composite scatter plots
with marginal distributions, and heatmaps. It integrates Ensembl gene symbols and highlights significant ORFs
based on empirical Bayes shrinkage (via the \code{ashr} package).
}
\details{
This function orchestrates multiple visualization components to explore differential translation across ORFs.
It uses empirical Bayes shrinkage to identify significant ORFs, retrieves gene symbols via \code{biomaRt},
and generates plots to summarize DOU and DTE relationships. The composite scatter plot includes marginal distributions
by ORF type, helping to visualize the overlap and divergence between DTE and DOU signals. The volcano plot highlights
extreme and top-ranked ORFs, while the heatmap summarizes translation changes across top genes.
}
